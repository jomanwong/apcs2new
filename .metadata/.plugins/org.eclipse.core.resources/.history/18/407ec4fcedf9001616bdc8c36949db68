/** 
 *  Joman Wong 2/22/17
 */

//TODO: PROBLEM!! DOESN'T RECOGNIZE "System", "System cannot be resolved" with newer Java version at home
// TEST SUCCESSFUL WITH user input "resources/weather.txt", when weather.txt is in resouce package
/** weather.txt
16.2	23.5
	19.1 7.4	22.8

18.5	-1.8 14.9
 */

import java.io.*;
import java.util.*;
import java.text.*;

public class tempetureMonitor {
	public static void main(String[]args){
		try{
			changeInTemp();
		}catch(FileNotFoundException e){
			System.out.println("File not found");
		}
	}
	
	public static void changeInTemp() throws FileNotFoundException{
		DecimalFormat df = new DecimalFormat ("#.00");
		System.out.println("Enter directory:");
		Scanner directory = new Scanner(System.in); //reads string of file directory
		String filePath = directory.next();
		directory.close();
		System.out.println("Fetching File@ " + filePath + " ..."); //test
		System.out.println();
		//Could use directory Scanner, but this is more clear in naming
		Scanner fileReader = new Scanner(new File(filePath)); 
		//use while hasNext.
		double file;
		ArrayList<Double> readItems = new ArrayList<Double>(); 
		while(fileReader.hasNext()){
			file = fileReader.nextDouble();
			readItems.add(file);
		}
		fileReader.close();
		double temp;
		ArrayList<Double> differences = new ArrayList<Double>();
		assert readItems.size() > 1 : "Cannot Calculate Difference Due to Only ONE Temperature Value Was Read";
		for(int i = 0; i < readItems.size() - 1; i++){
			temp = readItems.get(i) - readItems.get(i+1);
			//temp = Math.abs(temp); no need due to that a decrease in temperature is possible
			differences.add(temp); //safe sotrage
			System.out.println(readItems.get(i) + " to " + readItems.get(i+1) + ", change = " + df.format(differences.get(i)));
		}
	}
}